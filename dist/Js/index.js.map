{"version":3,"sources":["index.js"],"names":["waypoint","Waypoint","element","document","querySelector","handler","classList","toggle","addEventListener","e","target","contains","remove","preventDefault","input","button","makeid","length","result","characters","charactersLength","i","charAt","Math","floor","random","removeError","style","display","addLink","value","innerHTML","setTimeout","link","html","addError","add","copyToClipboard","text","window","clipboardData","setData","queryCommandSupported","textarea","createElement","textContent","position","body","appendChild","select","execCommand","ex","console","warn","removeChild","test","getComputedStyle","backgroundColor","parentElement"],"mappings":"AAAA,IAAIA,SAAW,IAAIC,SAAS,CAC3BC,QAASC,SAASC,cAAc,MAChCC,QAAS,WACRF,SAASC,cAAc,SAASE,UAAUC,OAAO,YAInDJ,SAASC,cAAc,YAAYI,iBAAiB,SAAS,SAAUC,GACjEA,EAAEC,OAAOJ,UAAUK,SAAS,oBAChCR,SAASC,cAAc,QAAQE,UAAUM,OAAO,WAIlDT,SAASC,cAAc,eAAeI,iBAAiB,SAAS,SAAUC,GACzEA,EAAEI,iBACFV,SAASC,cAAc,QAAQE,UAAUC,OAAO,WAEjD,MAAMO,MAAQX,SAASC,cAAc,kBAC/BW,OAASZ,SAASC,cAAc,mBACtC,SAASY,OAAOC,GAKf,IAJA,IAAIC,EAAS,GACTC,EACH,iEACGC,EAAmBD,EAAWF,OACzBI,EAAI,EAAGA,EAAIJ,EAAQI,IAC3BH,GAAUC,EAAWG,OACpBC,KAAKC,MAAMD,KAAKE,SAAWL,IAG7B,OAAOF,EAER,SAASQ,cACRZ,MAAMR,UAAUM,OAAO,SACvBT,SAASC,cAAc,kBAAkBuB,MAAMC,QAAU,OAG1D,SAASC,QAAQC,GAEhBJ,cACAZ,MAAMgB,MAAQ,GACdf,OAAOgB,UAAY,yDACnBC,WAAW,KACV,MAAMC,EAAO,mBAAmBjB,OAC/BO,KAAKC,MAAsB,EAAhBD,KAAKE,SAAe,IAEhCV,OAAOgB,UAAY,cACnB,MAAMG,EAAO,uDACaJ,+CACUG,mEAGpC9B,SAASC,cAAc,oBAAoB2B,WAAaG,GACtD,MAEJ,SAASC,WACRrB,MAAMR,UAAU8B,IAAI,SACpBjC,SAASC,cAAc,kBAAkBuB,MAAMC,QAAU,QAU1D,SAASS,gBAAgBC,GACxB,GAAIC,OAAOC,eAAiBD,OAAOC,cAAcC,QAEhD,OAAOD,cAAcC,QAAQ,OAAQH,GAC/B,GACNnC,SAASuC,uBACTvC,SAASuC,sBAAsB,QAC9B,CACD,IAAIC,EAAWxC,SAASyC,cAAc,YACtCD,EAASE,YAAcP,EACvBK,EAAShB,MAAMmB,SAAW,QAC1B3C,SAAS4C,KAAKC,YAAYL,GAC1BA,EAASM,SACT,IACC,OAAO9C,SAAS+C,YAAY,QAC3B,MAAOC,GAER,OADAC,QAAQC,KAAK,4BAA6BF,IACnC,EACN,QACDhD,SAAS4C,KAAKO,YAAYX,KA3B7B5B,OAAOP,iBAAiB,SAAS,WACpB,0GACJ+C,KAAKzC,MAAMgB,OAClBD,QAAQf,MAAMgB,OAEdK,cA0BFhC,SACEC,cAAc,oBACdI,iBAAiB,SAAS,SAAUC,GACpC,GAAIA,EAAEC,OAAOJ,UAAUK,SAAS,QAAS,CAC7B6C,iBAAiB/C,EAAEC,QAAQ+C,gBACtCpB,gBACC5B,EAAEC,OAAOgD,cAActD,cAAc,mBACnC2B,WAEHtB,EAAEC,OAAOqB,UAAY,UACrBtB,EAAEC,OAAOiB,MAAM8B,gBAAkB,OACjCzB,WAAW,KACVvB,EAAEC,OAAOiB,MAAM8B,gBAAkB,qBACjChD,EAAEC,OAAOqB,UAAY,QACnB","file":"index.js","sourcesContent":["var waypoint = new Waypoint({\r\n\telement: document.querySelector(\"h1\"),\r\n\thandler: function () {\r\n\t\tdocument.querySelector(\".desk\").classList.toggle(\"fixed\");\r\n\t},\r\n});\r\n\r\ndocument.querySelector(\".content\").addEventListener(\"click\", function (e) {\r\n\tif (!e.target.classList.contains(\"mobile-nav-link\")) {\r\n\t\tdocument.querySelector(\".mob\").classList.remove(\"open\");\r\n\t}\r\n});\r\n\r\ndocument.querySelector(\".mobile-nav\").addEventListener(\"click\", function (e) {\r\n\te.preventDefault();\r\n\tdocument.querySelector(\".mob\").classList.toggle(\"open\");\r\n});\r\nconst input = document.querySelector(\"#shorten-input\");\r\nconst button = document.querySelector(\"#shorten-button\");\r\nfunction makeid(length) {\r\n\tvar result = \"\";\r\n\tvar characters =\r\n\t\t\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\r\n\tvar charactersLength = characters.length;\r\n\tfor (var i = 0; i < length; i++) {\r\n\t\tresult += characters.charAt(\r\n\t\t\tMath.floor(Math.random() * charactersLength)\r\n\t\t);\r\n\t}\r\n\treturn result;\r\n}\r\nfunction removeError() {\r\n\tinput.classList.remove(\"error\");\r\n\tdocument.querySelector(\".error-message\").style.display = \"none\";\r\n}\r\n\r\nfunction addLink(value) {\r\n\t// https://rel.ink/67gn48\r\n\tremoveError();\r\n\tinput.value = \"\";\r\n\tbutton.innerHTML = `<img src=\"./dist/images/rolling.svg\" class=\"loading\"/>`;\r\n\tsetTimeout(() => {\r\n\t\tconst link = `https://rel.ink/${makeid(\r\n\t\t\tMath.floor(Math.random() * 7 + 1)\r\n\t\t)}`;\r\n\t\tbutton.innerHTML = `Shorten it!`;\r\n\t\tconst html = `<div class=\"shortened\">\r\n\t<a href=\"#\" class=\"link\">${value}</a>\r\n\t<a href=\"#\" class=\"shortened-link\">${link}</a>\r\n\t<button class=\"btn square copy\">Copy</button>\r\n  </div>`;\r\n\t\tdocument.querySelector(\".shortened-links\").innerHTML += html;\r\n\t}, 1200);\r\n}\r\nfunction addError() {\r\n\tinput.classList.add(\"error\");\r\n\tdocument.querySelector(\".error-message\").style.display = \"block\";\r\n}\r\nbutton.addEventListener(\"click\", function () {\r\n\tconst reg = /https?:\\/\\/(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_\\+.~#?&//=]*)/gi;\r\n\tif (reg.test(input.value)) {\r\n\t\taddLink(input.value);\r\n\t} else {\r\n\t\taddError();\r\n\t}\r\n});\r\nfunction copyToClipboard(text) {\r\n\tif (window.clipboardData && window.clipboardData.setData) {\r\n\t\t// Internet Explorer-specific code path to prevent textarea being shown while dialog is visible.\r\n\t\treturn clipboardData.setData(\"Text\", text);\r\n\t} else if (\r\n\t\tdocument.queryCommandSupported &&\r\n\t\tdocument.queryCommandSupported(\"copy\")\r\n\t) {\r\n\t\tvar textarea = document.createElement(\"textarea\");\r\n\t\ttextarea.textContent = text;\r\n\t\ttextarea.style.position = \"fixed\"; // Prevent scrolling to bottom of page in Microsoft Edge.\r\n\t\tdocument.body.appendChild(textarea);\r\n\t\ttextarea.select();\r\n\t\ttry {\r\n\t\t\treturn document.execCommand(\"copy\"); // Security exception may be thrown by some browsers.\r\n\t\t} catch (ex) {\r\n\t\t\tconsole.warn(\"Copy to clipboard failed.\", ex);\r\n\t\t\treturn false;\r\n\t\t} finally {\r\n\t\t\tdocument.body.removeChild(textarea);\r\n\t\t}\r\n\t}\r\n}\r\ndocument\r\n\t.querySelector(\".shortened-links\")\r\n\t.addEventListener(\"click\", function (e) {\r\n\t\tif (e.target.classList.contains(\"copy\")) {\r\n\t\t\tconst bg = getComputedStyle(e.target).backgroundColor;\r\n\t\t\tcopyToClipboard(\r\n\t\t\t\te.target.parentElement.querySelector(\".shortened-link\")\r\n\t\t\t\t\t.innerHTML\r\n\t\t\t);\r\n\t\t\te.target.innerHTML = \"Copied!\";\r\n\t\t\te.target.style.backgroundColor = \"#222\";\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\te.target.style.backgroundColor = \"hsl(180, 66%, 49%)\";\r\n\t\t\t\te.target.innerHTML = \"Copy\";\r\n\t\t\t}, 1500);\r\n\t\t}\r\n\t});\r\n"]}