var waypoint=new Waypoint({element:document.querySelector("h1"),handler:function(){document.querySelector(".desk").classList.toggle("fixed")}});document.querySelector(".content").addEventListener("click",(function(e){e.target.classList.contains("mobile-nav-link")||document.querySelector(".mob").classList.remove("open")})),document.querySelector(".mobile-nav").addEventListener("click",(function(e){e.preventDefault(),document.querySelector(".mob").classList.toggle("open")}));const input=document.querySelector("#shorten-input"),button=document.querySelector("#shorten-button");function makeid(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=n.length,r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*o));return t}function removeError(){input.classList.remove("error"),document.querySelector(".error-message").style.display="none"}function addLink(e){removeError(),input.value="",button.innerHTML='<img src="./dist/images/rolling.svg" class="loading"/>',setTimeout(()=>{const t="https://rel.ink/"+makeid(Math.floor(7*Math.random()+1));button.innerHTML="Shorten it!";const n=`<div class="shortened">\n\t<a href="#" class="link">${e}</a>\n\t<a href="#" class="shortened-link">${t}</a>\n\t<button class="btn square copy">Copy</button>\n  </div>`;document.querySelector(".shortened-links").innerHTML+=n},1200)}function addError(){input.classList.add("error"),document.querySelector(".error-message").style.display="block"}function copyToClipboard(e){if(window.clipboardData&&window.clipboardData.setData)return clipboardData.setData("Text",e);if(document.queryCommandSupported&&document.queryCommandSupported("copy")){var t=document.createElement("textarea");t.textContent=e,t.style.position="fixed",document.body.appendChild(t),t.select();try{return document.execCommand("copy")}catch(e){return console.warn("Copy to clipboard failed.",e),!1}finally{document.body.removeChild(t)}}}button.addEventListener("click",(function(){/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)/gi.test(input.value)?addLink(input.value):addError()})),document.querySelector(".shortened-links").addEventListener("click",(function(e){if(e.target.classList.contains("copy")){getComputedStyle(e.target).backgroundColor;copyToClipboard(e.target.parentElement.querySelector(".shortened-link").innerHTML),e.target.innerHTML="Copied!",e.target.style.backgroundColor="#222",setTimeout(()=>{e.target.style.backgroundColor="hsl(180, 66%, 49%)",e.target.innerHTML="Copy"},1500)}}));
//# sourceMappingURL=index.js.map
